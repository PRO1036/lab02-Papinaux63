---
title: "Lab 02 - Plastic waste"
author: Julien Larouche
date: 16 septembre 2025
output: github_document
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

```{r plastic-waste-continent}
ggplot(plastic_waste,
       aes(x=plastic_waste_per_cap))+
geom_histogram(fill="red",binwidth = 0.2)+
  facet_wrap(. ~continent, ncol=3)+
  labs(title="Quantité de déchets plastiques selon le continent",
       x="Quantité de déchets plastiques par habitant")
```

Les histogrammes montrent que les gens en Amérique du Nord génèrent en moyenne plus de déchets plastiques que les populations des autres continents  

### Exercise 2

```{r plastic-waste-density}
ggplot(plastic_waste,
       aes(x=plastic_waste_per_cap,
           color=continent,
           fill=continent))+
       geom_density(alpha=0.4)+
  labs(title="Quantité de déchets plastiques",
       subtitle="selon le continent",
       x="Quantité de déchets plastiques par habitant", y="densité")
```

Les réglages color et fill se retrouvent dans aes, car ce sont des paramètres dépendant de variables. Dans ce cas, il s'agit des continents. Par contre, la transparence (alpha) se retrouve dans geom puisque cette propriété est indépendante des variables. Il s'agit d'un setting.

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}
ggplot(plastic_waste,
       aes(x=continent, y=plastic_waste_per_cap))+
geom_boxplot(fill="yellow")+
  labs(title="Variations de la quantité de déchets par habitant",
       subtitle="dans les différent continents",
       x="Continent", y="quantité de déchets par habitant")
```

Violin plot:

```{r plastic-waste-violin}
ggplot(plastic_waste,
       aes(x=continent, y=plastic_waste_per_cap))+
geom_violin(fill="purple")+
  labs(title="Variations de la quantité de déchets par habitant",
       subtitle="dans les différent continents",
       x="Continent", y="quantité de déchets par habitant")
```

Les violin plots montrent la distribution des populations des continents en fonction de la quantité de déchets plastiques qu'il génèrent. Par exemple, on retrouve beaucoup de personnes générant une quantité de déchets inférieure à 0,1 en Afrique.

### Exercise 4


```{r plastic-waste-mismanaged}
ggplot(plastic_waste,
       aes(x=plastic_waste_per_cap, y=mismanaged_plastic_waste_per_cap,
           color=continent))+
  geom_point()+
   labs(title="Gestion des déchets par habitant",
       x="Quantité de déchets gérée par habitant", y="Quantité de déchets non gérée par habitant")
```

On observe une certaine linéarité entre les quantités de déchets gérés et non gérés par personne dans les populations des continents. En effet, la quantité de déchets non gérés augmente avec la quantité de déchets gérés. Cette tendance est plus observée en Afrique.

### Exercise 5


```{r plastic-waste-population-total}
ggplot(plastic_waste,
       aes(x=plastic_waste_per_cap, y=total_pop, color=continent))+
  geom_point()+
labs(title="Population totale en fonction de la quantité de déchets plastiques",
     subtitle="Par habitant",
       x="Nombre de déchets plastiques par habitant", 
       y="Population totale")
```

```{r plastic-waste-population-coastal}
ggplot(plastic_waste,
       aes(x=plastic_waste_per_cap, y=coastal_pop,color=continent))+
  geom_point()+
 labs(title="Quantité de déchets plastiques par habitant des populations côtières",
       x="Nombre de déchets plastiques par habitant", 
       y="Population côtière")
```

Les 2 graphiques montrent une relation assez similaire. Dans les deux cas, on observe que les pays génerant les plus de déchets par habitant sont des pays à faible population.  

## Conclusion

Recréez la visualisation:

```{r recreate-viz}
plastic_waste_coastal <- plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3)
  ggplot(plastic_waste_coastal,
         aes(x=coastal_pop_prop, y=plastic_waste_per_cap))+
  geom_point(aes(color=continent))+
  geom_smooth(color="black")+
  labs(title="Quantité de déchets plastiques vs Proportion de la population côtière",
       subtitle="Selon le continent",
       x="Proportion de la population côtière (Coastal/ total population)", 
       y="Nombre de déchets plastiques par habitant")
```
 
 La quantité de déchets plastiques par habitant tend à se stabiliser à partir d'une proportion de la population côtière de 0,75 et même à diminuer à mesure que la proportion de la population côtière augmente davantage.